---
layout:     post   				    # 使用的布局（不需要改）
title:      数据库设计和一些业务注意的要点				# 标题 
subtitle:   包括数据库索引设计  #副标题
date:       2019-10-14 				# 时间
author:     Haiming 						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 编程
    - 数据库


---

  数据库在任何的业务之中都非常重要，尤其是对于互联网企业的业务，大部分都是“数据密集型”，说白了，不同于游戏等“计算密集型”业务，其主要就是将数据传输和搬运给需要的人，那么这种场合下面，数据库的设计就更重要了。

  本文之中，我对于数据库的索引，结构和一些其他需要注意的细节方面做一些简要的梳理。下文的很多情况是针对于互联网公司的，由于互联网公司的业务需求和其他一些不一样，因此很多情况下其数据库的架构也完全不同。

  本文之中并不对于 MySQL 的本身内置索引结构的实现，例如 B+ Tree等等，做一些比较具体的叙述。而是从业务层面，看如何设计数据库表和索引可以更大程度上满足业务的需求。

  话不多说，开讲。

# 1. MySQL 索引设计

下面的内容参考自：[MySQL 索引设计概要](https://draveness.me/sql-index-intro)

















# 数据库设计之中一些需要注意的点

1. 不管什么业务和设计，都要考虑分库分表的情况。

2. 数据库之中不使用外键的原因： 不可保证在分库分表之后，有外键关系的数据库之间仍然在一个实例上面，这样就可能出现查找失败的情况。

   逻辑上，外键的约束要在业务代码之中描述。

3. 大文件，包括视频和图片等等，最好放在文件系统之中描述。数据库天然适合存放具有结构关系的数据，而对于这种大文件，放在数据库之中会拖慢性能。同样的，类似于商品描述这种信息，在业务部署上面应该放到CDN或者单独的数据库之中，因为其基本不会改动，读取远远大于写入。